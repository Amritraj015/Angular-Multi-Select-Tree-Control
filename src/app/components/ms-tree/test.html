<mat-tab-group animationDuration="100" mat-align-tabs="center">
  <mat-tab label="Show All">
    <ms-search (searchTerm)="searchTerm = $event"></ms-search>

    <mat-card class="tree-display">
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
        <mat-tree-node
          *matTreeNodeDef="let node; when: hasChild"
          matTreeNodePadding
        >
          <button
            class="expand-collapse-button"
            *ngIf="!checkChildren(node)"
            mat-icon-button
            matTreeNodeToggle
            [attr.aria-label]="'toggle ' + node.treeNode.nodeName"
          >
            <mat-icon class="mat-icon-rtl-mirror">
              {{
                treeControl.isExpanded(node) ? "expand_more" : "chevron_right"
              }}
            </mat-icon>
          </button>

          <button *ngIf="checkChildren(node)" mat-icon-button disabled></button>

          <div *ngIf="!node.treeNode.nodeAuthorized">
            <button mat-icon-button disabled>
              <mat-icon class="mat-icon-rtl-mirror">
                remove_circle
              </mat-icon>
            </button>

            <div
              class="tree-node-unauthorized"
              [innerHTML]="node.nodeName | searchFilter: searchTerm"
            ></div>
          </div>

          <mat-checkbox
            *ngIf="node.treeNode.nodeAuthorized"
            class="tree-node-active"
            [checked]="node.treeNode.nodeSelected"
            (change)="selectAndExpand(node)"
            color="warn"
          >
            <div
              *ngIf="node.treeNode.nodeInactive"
              class="tree-node-inactive"
              [innerHTML]="node.treeNode.nodeName | searchFilter: searchTerm"
            ></div>

            <div class="inactive-text" *ngIf="node.treeNode.nodeInactive">
              &nbsp; &nbsp; (inactive)
            </div>

            <div
              *ngIf="!node.treeNode.nodeInactive"
              [innerHTML]="node.treeNode.nodeName | searchFilter: searchTerm"
            ></div>

            <!-- {{ node.treeNode.nodeName | searchFilter: searchTerm }} -->
          </mat-checkbox>
        </mat-tree-node>
      </mat-tree>
    </mat-card>
  </mat-tab>

  <mat-tab label="Show Selected">
    <ng-template matTabContent>
      <ms-search (searchTerm)="searchTerm = $event"></ms-search>
      <mat-card class="tree-display"></mat-card>
    </ng-template>
  </mat-tab>
</mat-tab-group>
